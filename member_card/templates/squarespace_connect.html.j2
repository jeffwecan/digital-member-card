{% extends "base.html.j2" %}
{% block title %}Squarespace Orders Webhook Connect{% endblock %}
{% block content %}
{% call macros.content_grid() %}
<div class="mdl-card login-card mdl-shadow--2dp login-signin-panel">
  <div class="mdl-card__title">
    <h2 class="mdl-card__title-text">
      <img class="lv-horizontal-logo-large" src="{{ url_for('static', filename='LosVerdes_Logo_RGB_300_Horizontal_VerdeOnTransparent_CityYear.png') }}">
    </h2>
  </div>
  <div class="mdl-card__supporting-text">
    <h4>
      Squarespace Webhooks
    </h4>

    <br>
    <h5>Webhook List (Squarespace account ID <strong>{{ squarespace_account_id }}</strong>)</h5>
    <hr>

    {% for webhook_subscription in webhook_subscriptions %}
    <details>
      <summary id="webhook-details-{{ webhook_subscription.id }}">
        <h5>Webhook #{{ webhook_subscription.id }}</h5>
      </summary>
      <div>
        <ul class="mdl-list">
          {% for key, value in webhook_subscription.items() %}
          <li class="mdl-list__item mdl-list__item--two-line">
            <span class="mdl-list__item-primary-content">
              <span class="mdl-list__item-sub-title"><strong>{{ key | replace("_", " ") | title }}</strong></span>
              <span>{{ value }}</span>
            </span>
          </li>
          {% endfor %}
        </ul>
      </div>
    </details>
    {% endfor %}
  </div>

  <div class="mdl-card__actions mdla-card--border mdl-typography--text-right">
    <a class="mdl-button mdl-js-button mdl-button--colored" href="{{ url_for('home') }}" title="Click here to open the membership store in a new tab">
      Back Home
      <i class="material-icons">home</i>
    </a>
  </div>
</div>
{% endcall %}

{% call macros.content_grid() %}
<div class="mdl-card mdl-shadow--2dp login-side-cover">
</div>
{% endcall %}

{% endblock %}
