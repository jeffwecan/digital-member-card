{% macro content_grid(middle_column_size=6) %}
{% set side_column_size = (12 - middle_column_size ) // 2 %}
<div class="mdl-grid">
  <div class="mdl-cell mdl-cell--{{ side_column_size }}-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
  <div class="mdl-cell mdl-cell--{{ middle_column_size }}-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
    {{ caller() }}
  </div>
  <div class="mdl-cell mdl-cell--{{ side_column_size }}-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
</div>
{% endmacro %}

{% macro apple_sign_in_button() %}
<a href="{{ url('social:begin', backend='apple-id') }}">
  <div id="appleid-signin" class="appleid-signin-button" data-color="black" data-border="true" data-type="sign-in">
    <div style=" font-synthesis: none; -moz-font-feature-settings: kern; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; width: 100%; height: 100%; min-width: 130px; max-width: 375px; min-height: 30px; max-height: 64px; position: relative; letter-spacing: initial;"
         role="button" tabindex="0" aria-label="Sign in with Apple">
      <div style=" padding-right: 8%; padding-left: 8%; position: absolute; box-sizing: border-box; width: 100%; height: 100%;">
        <svg xmlns="http://www.w3.org/2000/svg" style="pointer-events: none; overflow: visible;" width="100%" height="100%">
          <g>
            <svg xmlns="http://www.w3.org/2000/svg" style="overflow: visible;" width="100%" height="50%" y="25%" viewBox="0 -11 111.046875 14" fill="#fff">
              <defs>
                <style>
                  @font-face {
                    font-family: "applied-button-font-0";
                    src: url(data:application/x-font-woff;charset=utf-8;base64,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) format("woff")
                  }
                </style>
              </defs>
              <text font-size="12px" textLength="111.046875" font-family="applied-button-font-0" direction="ltr"> Sign in with Apple</text>
            </svg>
          </g>
        </svg>
      </div>
      <div style=" padding: 1px; width: 100%; height: 100%; box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" style=" overflow: visible;" width="100%" height="100%">
          <rect width="100%" height="100%" ry="15%" fill="#000" stroke="black" stroke-width="1" stroke-linecap="round"></rect>
        </svg></div>
    </div>
  </div>
</a>
{% endmacro %}

{% macro google_sign_in_button() %}
<a class="google-sign-in-button mdl-js-button" id="google-oauth2-button" name="google oauth2" href="/login/google-oauth2/">
  <img src="{{ url_for('static', filename='btn_google_signin_dark_normal_web@2x.png') }}">
  <!-- <div class="google-icon-wrapper"> -->
  <!-- <img class="google-icon" src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" /> -->
  <!-- </div> -->
  <!-- <p class="btn-text"><b>Sign in with Google</b></p> -->
</a>
{% endmacro %}

{% macro yahoo_sign_in_button() %}
<a class="yahoo-sign-in-button mdl-js-button" id="yahoo-oauth2-button" name="yahoo oauth2" href="/login/yahoo-oauth2/">
  <img src="{{ url_for('static', filename='yahoo_signin.png') }}">
</a>
{% endmacro %}

{% macro membership_card(
title,
primary_info_text,
secondary_info_text,
aux_info_text,
serial_number,
qr_code_b64_png="",
validation_msg="",
above_card_heading="",
show_card_actions_bar=True,
show_qr_code_on_card=False
)
%}
<div class="members-card-wide mdl-card mdl-shadow--2dp">
  <!-- Using (mis-using?) the material design light card title class here as our card "holder" -->
  <!-- save-as-screenshot ID used to indicate what page contents are included in the resulting screenshot -->
  {% if above_card_heading %}
  <h4 class="mdl-typography--text-center">{{ above_card_heading }}</h4>
  {% endif %}
  <div class="mdl-card__title">
    <div class="membership-card">
      <div class="membership-card-inner">
        <!-- This "grid" is what contains and aligns the contents of our HTML-based card -->
        <div class="mdl-grid">
          <!-- START TOP-ROW -->
          <!-- LV crest in the top-left corner: 1/3 column (desktop:4, table:2, phone:1) -->
          <div class="mdl-cell mdl-cell--4-col mdl-cell--2-col-tablet mdl-cell--1-col-phone lv-crest"></div>
          <!-- Card title / identifier in top-right corner 2/3 column (desktop:8, table:6, phone:3) -->
          <div class="mdl-cell mdl-cell--8-col mdl-cell--6-col-tablet mdl-cell--3-col-phone mdl-typography--text-right">
            <h3 id="card-title" class="live-laugh-love">
              {{ title }}
            </h3>
            {% if validation_msg %}
            <h3 id="card-validation-msg" class="validation-overlay">
              {{ validation_msg }}
            </h3>
            {% endif %}
          </div>
          <!-- END  TOP-ROW -->

          <!-- START BOTTOM-ROW -->
          <!-- Large bottom-left corner, contents justified to the bottom-left. User-specific details: name, join date, etc. -->
          {% if show_qr_code_on_card %}
          <div class="mdl-cell mdl-cell--8-col mdl-cell--6-col-tablet mdl-cell--3-col-phone mdl-typography--text-left mdl-cell--bottom">
            <div id="membership-primary-info-text" class="live-laugh-love-large houschka">
              {{ primary_info_text }}
            </div>
            <div id="membership-seconday-info-text" class="live-laugh-love houschka">
              {{ secondary_info_text }}
            </div>
            <div id="membership-aux-info-text" class="live-laugh-love houschka">
              <small>
                {{ aux_info_text }}
              </small>
            </div>
          </div>

          <!-- Small bottom-left corner. Normally hidden, shows up when saving card as a screenshot -->
          <div class="mdl-cell mdl-cell--4-col mdl-cell--2-col-tablet mdl-cell--1-col-phone qr-code mdl-cell--bottom mdl-typography--text-right">
            <img id="card-qr-code" alt='QR code for card verification' src='data:image/png;base64,{{ qr_code_b64_png | default("")}}' />
          </div>
          <!-- END BOTTOM-ROW -->
          {% else %}
          <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--bottom mdl-typography--text-left">
            <div id="membership-primary-info-text" class="live-laugh-love-large houschka">
              {{ primary_info_text }}
            </div>
            <div id="membership-seconday-info-text" class="live-laugh-love houschka">
              {{ secondary_info_text }}
            </div>
            <div id="membership-aux-info-text" class="live-laugh-love houschka">
              <small>
                {{ aux_info_text }}
              </small>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  {% if not show_qr_code_on_card and  qr_code_b64_png %}
  <div class="mdl-card__supporting-text">
    <div class="qr-code mdl-typography--text-center">
      <img id="card-qr-code" alt='QR code for card verification' src='data:image/png;base64,{{ qr_code_b64_png | default("")}}' />
    </div>
  </div>
  {% endif %}
  {% if show_card_actions_bar %}
  <!-- Buttons enable various card-saving actions shown under the main card design -->
  <div class="membership-card-actions mdl-card__actions mdl-card--border mdl-typography--text-center" data-html2canvas-ignore="true">
    {% if not validation_msg %}
    <!-- <button id="save-as-screenshot-menu" class="mdl-button" title="Save as image (.png)">
      <span class="material-icons">screenshot</span>
      Save
    </button>
    <ul class="mdl-menu mdl-menu--top-right mdl-js-menu" data-mdl-for="save-as-screenshot-menu">
      <li id="save-as-screenshot-btn" class="mdl-menu__item">Save card as image (.png)</li>
    </ul> -->
    <a class="save-pass-button save-google-pass-button" href="{{ url_for('passes_google_pay') }}" target="_blank">
      <img class="mdl-js-button" src="{{ url_for('static', filename='save_to_google_pay.svg') }}">
    </a>
    <a class="save-pass-button save-apple-pass-button" href="{{ url_for('passes_apple_pay') }}">
      <img class="mdl-js-button" src="{{ url_for('static', filename='Add_to_Apple_Wallet_rgb_US-UK.svg') }}">
    </a>
    <hr>
    <a class="mdl-button mdl-js-button update-name-dialog-link">
      <i class="material-icons">edit</i>
      Update Display Name
    </a>
    {% else %}
    <a class="mdl-button mdl-js-button" href="{{ url_for('home') }}">
      Back to Home
    </a>
    {% endif %}
  </div>
  {% endif %}
  <!-- <div class="mdl-card__menu">
    <button id="download" data-html2canvas-ignore="true" title="Save as image (.png)"
      class="mdl-button mdl-button--icon mdl-js-button mdl-button--fab mdl-button--colored">
      <i class="material-icons">screenshot</i>
    </button>
  </div> -->
</div>

{% endmacro %}

{% macro troubleshooting_list() %}
<span class="mdl-list__item-primary-content">
  <i class="material-icons">email</i>
  <strong>Verify Email Address</strong>
  <br>
  <span class="mdl-list__item-text-body">
    Check that the email address you signed in with matches the email used to purchase your membership.
    <br>
    <br>
    If needed, <a href="{{ url_for('logout') }}">logout</a> now, and then back in, with an account whose email address matches the one used on our LV membership purchase.
  </span>
</span>
<hr>
<span class="mdl-list__item-primary-content">
  <i class="material-icons">store</i>
  <strong>Purchase a Membership</strong>
  <br>
  <span class="mdl-list__item-text-body">
    Or! If you're legit not a member, but would like to be, go grab a membership over at the Los Verdes store!
    <br>
    <br>
    <div class="mdl-card__actions mdl-typography--text-right">
      <a class="mdl-button mdl-js-button mdl-button--raised" href="https://www.losverdesatx.org/lv-store/membership" target="_blank"
         title="Click here to open the membership store in a new tab"><i class="material-icons">storefront</i>&nbsp;Visit Membership Store</a>
    </div>

  </span>
</span>
<hr>
<span class="mdl-list__item-primary-content">
  <i class="material-icons">contact_support</i>
  <strong>Support Available</strong>
  <br>
  <span class="mdl-list__item-text-body">
    Otherwise, please feel free to contact <a href="mailto:los-verdes-tech-support@googlegroups.com">tech
      support</a>, with any relevant details, for assistance.
  </span>
</span>
{% endmacro %}

{% macro help_content() %}
<h4>About</h4>
This website provides access to a digital membership card for any current members of the <a href="https://losverdesatx.org" target="_blank">Los Verdes</a> futbol supporters group.
<h5>FAQ's</h5>
{% call verde_box("What can I use my card for?") %}
The Los Verdes Verde membership card is used for <strong>discounts</strong> at participating businesses, <strong>entry</strong> into Los Verdes members-only events, and
<strong>possibly</strong> even more!
{% endcall %}

{% call verde_box("How can I save my card?") %}
Your can either view your membership card directly on <a href="https://card.losverd.es/">card.losverd.es</a> (this website) or download an offline copy as an image or to Google Pay
/ Apple wallet.
<br>
<br>
Download links can be sent via email to any Los Verdes member's address upon request as well!

<h6>Sample Cards</h6>
<div class="mdl-grid lil-image-cards">
  {{ lil_image('sample/add_to_ios_wallet.png', 'Add to Apple Wallet') }}
  {{ lil_image('sample/ios_in_wallet.png', 'Apple Wallet Pass') }}
  {{ lil_image('sample/add_to_gpay.png', 'Save to Google Pay') }}
  {{ lil_image('sample/gpay_in_wallet.png', 'Google Pay Pass') }}
  {{ lil_image('sample/card_image.png', 'Image (PNG)') }}
</div>
{% endcall %}
<h5>Website Policies</h5>
This site's privacy policy can be view here: <a href="{{ url_for('privacy_policy') }}">Privacy Policy</a>
<hr>
<h4>Help</h4>
{% call verde_box("What if I am unable to access my card?") %}
{{ troubleshooting_list() }}
{% endcall %}
{% endmacro %}


{% macro lil_image(image_filename, caption) %}
<div class="mdl-cell mdl-cell--4-col">
  {% set lil_image_url = url_for('static', filename=image_filename) %}
  <div class="lil-card-image mdl-card mdl-shadow--2dp" style="background-image: url({{lil_image_url}});">
    <div class="mdl-card__title mdl-card--expand"></div>
    <div class="mdl-card__actions">
      <span class="lil-card-image__caption">{{ caption }}</span>
    </div>
  </div>
</div>
{% endmacro %}

{% macro verde_box(title, box_id="") %}
<details {% if box_id %}id="{{ box_id }}" {% endif -%}>
  <summary>
    {{ title }}
  </summary>
  <div class="content">
    {{ caller() }}
  </div>
</details>
{% endmacro %}

{% macro snackbar() %}
<div id="toastSnackbar" class="mdl-js-snackbar mdl-snackbar">
  <div id="toastSnackbarContent" class="mdl-snackbar__text"></div>
  <button class="mdl-snackbar__action" type="button"></button>
</div>
{% endmacro %}

{% macro membership_history_and_user_details(membership_orders, current_user) %}
<div class="membership-details-card mdl-card mdl-shadow--2dp">
  <div class="mdl-card__supporting-text">
    <h4 class="vhlm">Membership History</h4>
    {% for membership_order in membership_orders | reverse %}
    {% call verde_box(title="Order #" ~ membership_order.order_number ~ " - " ~  membership_order.product_name) %}
    <ul class="mdl-list">
      {% for key, value in membership_order.to_dict().items() %}
      <li class="mdl-list__item mdl-list__item--two-line">
        <span class="mdl-list__item-primary-content">
          <span class="mdl-list__item-sub-title"><strong>{{ key | replace("_", " ") | title }}</strong></span>
          <span>{{ value }}</span>
        </span>
      </li>
      {% endfor %}
    </ul>
    {% endcall %}
    {% else %}
    <h6>
      No previous orders recorded for email address:<wbr><strong class="email-address">{{ current_user.email }}</strong>
    </h6>
    {% endfor %}


    <h4 class="vhlm">Verde Hasta La Muerte</h4>
    <hr>
    {% call verde_box(title="User Details") %}
    <ul class="mdl-list">
      {% for key, value in current_user.to_dict().items() %}
      <li class="mdl-list__item mdl-list__item--two-line">
        <span class="mdl-list__item-primary-content">
          <span class="mdl-list__item-sub-title"><strong>{{ key | replace("_", " ") | title }}</strong></span>
          <span>{{ value }}</span>
        </span>
      </li>
      {% endfor %}
    </ul>
    {% endcall %}
  </div>
</div>
{% endmacro %}


{% macro form_message_heading(form_message) %}
{% if form_message %}
<div class="form-messages mdl-color-text--green mdl-typography--text-center">
  <h4 id="form-message">
    {{ form_message }}
  </h4>
</div>
{% endif %}
{% endmacro %}
